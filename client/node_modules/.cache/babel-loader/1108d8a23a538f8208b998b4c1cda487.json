{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Tristan/Desktop/resume-generator/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/Users/Tristan/Desktop/resume-generator/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Tristan/Desktop/resume-generator/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Tristan/Desktop/resume-generator/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import CVform from\"./CVform/CVform\";import emptyCV from\"./utils/emptyCV\";import exampleCV from\"./utils/exampleCV\";import{v4 as uuidv4}from\"uuid\";import Preview from\"./Preview/Preview\";import{useReactToPrint}from\"react-to-print\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState(emptyCV),_useState2=_slicedToArray(_useState,2),cv=_useState2[0],setCV=_useState2[1];var handleChangePersonal=function handleChangePersonal(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value,type=_e$target.type;if(type===\"file\"){console.log(\"file\");handleChangeFile(e);return;}setCV(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{personal:_objectSpread(_objectSpread({},prevState.personal),{},_defineProperty({},name,value))});});};var handleChangeAboutMe=function handleChangeAboutMe(e,id){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;setCV(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{about:_objectSpread(_objectSpread({},prevState.about),{},_defineProperty({},name,value))});});};var handleChangeFile=function handleChangeFile(e){var name=e.target.name;var file=e.target.files[0];if(!file)return;var reader=new FileReader();reader.onload=function(){setCV(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{personal:_objectSpread(_objectSpread({},prevState.personal),{},_defineProperty({},name,reader.result))});});};reader.readAsDataURL(file);};var handleChangeExperience=function handleChangeExperience(e,id){var _e$target3=e.target,name=_e$target3.name,value=_e$target3.value;setCV(function(prevState){var newExp=prevState.experience.map(function(exp){if(exp.id===id){return _objectSpread(_objectSpread({},exp),{},_defineProperty({},name,value));}return exp;});return _objectSpread(_objectSpread({},prevState),{},{experience:_toConsumableArray(newExp)});});};var handleAddExperience=function handleAddExperience(){setCV(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{experience:[].concat(_toConsumableArray(prevState.experience),[{id:uuidv4(),position:\"\",company:\"\",city:\"\",from:\"\",to:\"\",description:\"\"}])});});};var handleDeleteExperience=function handleDeleteExperience(id){setCV(function(prevState){var newExp=prevState.experience.filter(function(exp){return exp.id!==id;});return _objectSpread(_objectSpread({},prevState),{},{experience:_toConsumableArray(newExp)});});};var handleChangeEducation=function handleChangeEducation(e,id){var _e$target4=e.target,name=_e$target4.name,value=_e$target4.value;setCV(function(prevState){var newEducation=prevState.education.map(function(edu){if(edu.id===id){return _objectSpread(_objectSpread({},edu),{},_defineProperty({},name,value));}return edu;});return _objectSpread(_objectSpread({},prevState),{},{education:_toConsumableArray(newEducation)});});};var handleAddEducation=function handleAddEducation(){setCV(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{education:[].concat(_toConsumableArray(prevState.education),[{id:uuidv4(),school:\"\",address:\"\",degree:\"\",focus:\"\",from:\"\",to:\"\"}])});});};var handleDeleteEducation=function handleDeleteEducation(id){setCV(function(prevState){var newEdu=prevState.education.filter(function(edu){return edu.id!==id;});return _objectSpread(_objectSpread({},prevState),{},{education:_toConsumableArray(newEdu)});});};var handleLoadExample=function handleLoadExample(){setCV(exampleCV);};var handleReset=function handleReset(){setCV(emptyCV);};var componentRef=useRef();var handlePrint=useReactToPrint({content:function content(){return componentRef.current;},bodyClass:\"scale\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(CVform,{cv:cv,onChangePersonal:handleChangePersonal,onChangeExperience:handleChangeExperience,onAddExperience:handleAddExperience,onDeleteExperience:handleDeleteExperience,onChangeEducation:handleChangeEducation,onAddEducation:handleAddEducation,onDeleteEducation:handleDeleteEducation,onPrint:handlePrint,onLoadExample:handleLoadExample,onReset:handleReset,onChangeAboutMe:handleChangeAboutMe}),/*#__PURE__*/_jsx(Preview,{cv:cv,ref:componentRef})]});};export default Main;","map":{"version":3,"sources":["C:/Users/Tristan/Desktop/resume-generator/client/src/components/Main.js"],"names":["React","useState","useRef","CVform","emptyCV","exampleCV","v4","uuidv4","Preview","useReactToPrint","Main","cv","setCV","handleChangePersonal","e","target","name","value","type","console","log","handleChangeFile","prevState","personal","handleChangeAboutMe","id","about","file","files","reader","FileReader","onload","result","readAsDataURL","handleChangeExperience","newExp","experience","map","exp","handleAddExperience","position","company","city","from","to","description","handleDeleteExperience","filter","handleChangeEducation","newEducation","education","edu","handleAddEducation","school","address","degree","focus","handleDeleteEducation","newEdu","handleLoadExample","handleReset","componentRef","handlePrint","content","current","bodyClass"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport CVform from \"./CVform/CVform\";\nimport emptyCV from \"./utils/emptyCV\";\nimport exampleCV from \"./utils/exampleCV\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Preview from \"./Preview/Preview\";\nimport { useReactToPrint } from \"react-to-print\";\n\nconst Main = () => {\n  const [cv, setCV] = useState(emptyCV);\n\n  const handleChangePersonal = (e) => {\n    const { name, value, type } = e.target;\n\n    if (type === \"file\") {\n      console.log(\"file\");\n      handleChangeFile(e);\n      return;\n    }\n\n    setCV((prevState) => ({\n      ...prevState,\n      personal: { ...prevState.personal, [name]: value },\n    }));\n  };\n\n  const handleChangeAboutMe = (e, id) => {\n    const {name, value,} = e.target;\n\n    setCV((prevState) => ({\n      ...prevState,\n      about: { ...prevState.about, [name]: value },\n    }));\n  };\n\n  const handleChangeFile = (e) => {\n    const { name } = e.target;\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      setCV((prevState) => ({\n        ...prevState,\n        personal: {\n          ...prevState.personal,\n          [name]: reader.result,\n        },\n      }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleChangeExperience = (e, id) => {\n    const { name, value } = e.target;\n\n    setCV((prevState) => {\n      const newExp = prevState.experience.map((exp) => {\n        if (exp.id === id) {\n          return { ...exp, [name]: value };\n        }\n        return exp;\n      });\n      return { ...prevState, experience: [...newExp] };\n    });\n  };\n\n  const handleAddExperience = () => {\n    setCV((prevState) => ({\n      ...prevState,\n      experience: [\n        ...prevState.experience,\n        {\n          id: uuidv4(),\n          position: \"\",\n          company: \"\",\n          city: \"\",\n          from: \"\",\n          to: \"\",\n          description: \"\",\n        },\n      ],\n    }));\n  };\n\n  const handleDeleteExperience = (id) => {\n    setCV((prevState) => {\n      const newExp = prevState.experience.filter((exp) => exp.id !== id);\n      return { ...prevState, experience: [...newExp] };\n    });\n  };\n\n  const handleChangeEducation = (e, id) => {\n    const { name, value } = e.target;\n    setCV((prevState) => {\n      const newEducation = prevState.education.map((edu) => {\n        if (edu.id === id) {\n          return { ...edu, [name]: value };\n        }\n        return edu;\n      });\n      return { ...prevState, education: [...newEducation] };\n    });\n  };\n\n  const handleAddEducation = () => {\n    setCV((prevState) => ({\n      ...prevState,\n      education: [\n        ...prevState.education,\n        {\n          id: uuidv4(),\n          school: \"\",\n          address: \"\",\n          degree: \"\",\n          focus: \"\",\n          from: \"\",\n          to: \"\",\n        },\n      ],\n    }));\n  };\n\n  const handleDeleteEducation = (id) => {\n    setCV((prevState) => {\n      const newEdu = prevState.education.filter((edu) => edu.id !== id);\n      return { ...prevState, education: [...newEdu] };\n    });\n  };\n\n  const handleLoadExample = () => {\n    setCV(exampleCV);\n  };\n\n  const handleReset = () => {\n    setCV(emptyCV);\n  };\n\n  const componentRef = useRef();\n\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n    bodyClass: \"scale\",\n  });\n\n  return (\n    <div className=\"main-content\">\n      <CVform\n        cv={cv}\n        onChangePersonal={handleChangePersonal}\n        onChangeExperience={handleChangeExperience}\n        onAddExperience={handleAddExperience}\n        onDeleteExperience={handleDeleteExperience}\n        onChangeEducation={handleChangeEducation}\n        onAddEducation={handleAddEducation}\n        onDeleteEducation={handleDeleteEducation}\n        onPrint={handlePrint}\n        onLoadExample={handleLoadExample}\n        onReset={handleReset}\n        onChangeAboutMe={handleChangeAboutMe}\n      />\n      <Preview cv={cv} ref={componentRef} />\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}